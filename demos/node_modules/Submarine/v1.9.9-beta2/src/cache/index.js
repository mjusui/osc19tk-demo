
const token=(hndl, lim=1)=>{
  let cnt=0;
  let val=undefined;

  return (...args)=>{
    val = cnt < lim
      ? hndl(...args)
      : val;

    cnt++;

    return val;
  }
};


const count=(hndl, lim=1)=>{
  let cnt=0;
  let val=undefined

  return (...args)=>{
    val = cnt % lim
      ? val
      : hndl(...args);

    cnt++;

    return val;
  };
};

const time=(hndl, intv=0)=>{
  let tim=0;
  let val=undefined;

  const refresh=()=>{
    const now=new Date().getTime();
    const ret = now - tim < intv;

    tim = ret
      ? tim
      : now

    return ret;
  };

  return (...args)=>{
    val = refresh()
      ? val
      : hndl(...args); 

    return val;
  };
};


module.exports={
  token: token,
  count: count,
  time: time,
};

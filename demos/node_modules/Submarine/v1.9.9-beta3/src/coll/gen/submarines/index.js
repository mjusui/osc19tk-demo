'use strict';

module.exports=(preps=[], opt)=>{
  const { Class }=opt;

  return new Class().subs(
    sub => sub.check().then(
      r => r.exams.ok
        ? r.opt.host
        : undefined
    )
  ).then(
    hosts => Array.merge(
      preps,
      ...hosts
    )
  );
};

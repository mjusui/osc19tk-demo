'use strict';
const Submarine=require('submarine/Class');


const ThreeToOne=class extends Submarine {
  query(){
    return {
      ssh_host: `echo ${this.opt.host}`,
    };
  }

  test(stats){
    return {
      ssh_host_is_server2: stats.ssh_host === 'server2',
    };
  }

  command(){
    return `echo ${this.opt.host}`;
  }
}

module.exports=Submarine.hosts(
  host => new ThreeToOne({
    conn: 'ssh',
    host: host,
  }),

  'server1',
  'server2',
  'server3'
);


